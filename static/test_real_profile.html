<!DOCTYPE html>
<html>
<head>
    <title>Teste Real do Perfil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .status { background: #f0f0f0; padding: 10px; margin: 10px 0; }
        .success { background: #d4edda; }
        .error { background: #f8d7da; }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1>üß™ Teste Real do Perfil - RH Acqua</h1>
        
        <div id="status" class="status">Carregando...</div>
        
        <!-- Bot√£o para abrir modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editPersonalModal">
            Abrir Modal de Informa√ß√µes Pessoais
        </button>
        
        <button onclick="checkMasks()" class="btn btn-info ms-2">üîç Verificar M√°scaras</button>
        <button onclick="forceApply()" class="btn btn-warning ms-2">‚ö° For√ßar Aplica√ß√£o</button>
        
        <div id="results" class="mt-3"></div>
        
        <!-- Modal de Informa√ß√µes Pessoais (igual ao real) -->
        <div class="modal fade" id="editPersonalModal" tabindex="-1" aria-labelledby="editPersonalModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editPersonalModalLabel">
                            Editar Informa√ß√µes Pessoais
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="cpf" class="form-label">CPF *</label>
                                    <input type="text" class="form-control cpf-mask" id="cpf" name="cpf" 
                                           value="12312312312312312312332132132231" 
                                           required placeholder="000.000.000-00">
                                    <div class="form-text">Digite apenas n√∫meros - m√°ximo 11 d√≠gitos</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="pis" class="form-label">PIS *</label>
                                    <input type="text" class="form-control pis-mask" id="pis" name="pis" 
                                           value="12313123123123" 
                                           required placeholder="000.00000.00-0">
                                    <div class="form-text">Digite apenas n√∫meros - m√°ximo 11 d√≠gitos</div>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="rg" class="form-label">RG</label>
                                    <input type="text" class="form-control rg-mask" id="rg" name="rg" 
                                           value="sdad112321323124" 
                                           placeholder="Digite apenas n√∫meros (m√°x. 12 d√≠gitos)">
                                    <div class="form-text">Apenas n√∫meros - m√°ximo 12 d√≠gitos</div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Modal de Contato (igual ao real) -->
        <div class="modal fade" id="editContactModal" tabindex="-1" aria-labelledby="editContactModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editContactModalLabel">
                            Editar Informa√ß√µes de Contato
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <form method="post">
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="whatsapp" class="form-label">Telefone com WhatsApp *</label>
                                    <input type="tel" class="form-control phone-mask" id="whatsapp" name="whatsapp" 
                                           value="213213213dqsd12" 
                                           required placeholder="(00) 00000-0000" maxlength="15">
                                    <div class="form-text">Telefone para contato via WhatsApp - apenas n√∫meros</div>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <label for="zip_code" class="form-label">CEP *</label>
                                    <input type="text" class="form-control cep-mask" id="zip_code" name="zip_code" 
                                           value="12e121dsdad" 
                                           required placeholder="00000-000">
                                    <div class="form-text">Digite apenas n√∫meros - m√°ximo 8 d√≠gitos</div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <button type="button" class="btn btn-success mt-3" data-bs-toggle="modal" data-bs-target="#editContactModal">
            Abrir Modal de Contato
        </button>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        console.log('üöÄ P√°gina carregando...');
        
        function checkMasks() {
            const status = document.getElementById('status');
            const results = document.getElementById('results');
            
            if (typeof window.applyMasks === 'function') {
                status.textContent = '‚úÖ Fun√ß√£o applyMasks encontrada!';
                status.className = 'status success';
                
                // Conta campos com m√°scaras aplicadas
                const fields = document.querySelectorAll('.cpf-mask, .pis-mask, .rg-mask, .phone-mask, .cep-mask');
                let appliedMasks = 0;
                
                fields.forEach(field => {
                    if (field.dataset.maskApplied) {
                        appliedMasks++;
                    }
                });
                
                if (appliedMasks === fields.length) {
                    results.innerHTML = `<div class="status success">üéâ SUCESSO! Todas as ${fields.length} m√°scaras est√£o funcionando!</div>`;
                } else {
                    results.innerHTML = `<div class="status error">‚ö†Ô∏è Apenas ${appliedMasks} de ${fields.length} m√°scaras est√£o funcionando.</div>`;
                }
                
            } else {
                status.textContent = '‚ùå Fun√ß√£o applyMasks N√ÉO encontrada!';
                status.className = 'status error';
                results.innerHTML = '<div class="status error">‚ùå O arquivo masks.js n√£o foi carregado corretamente.</div>';
            }
        }
        
        function forceApply() {
            if (typeof window.applyMasks === 'function') {
                window.applyMasks();
                setTimeout(checkMasks, 500);
            } else {
                alert('Fun√ß√£o applyMasks n√£o encontrada!');
            }
        }
        
        // Verifica quando a p√°gina carrega
        window.addEventListener('load', function() {
            console.log('üìÑ P√°gina carregada completamente');
            setTimeout(checkMasks, 1000);
        });
        
        // Verifica quando o DOM est√° pronto
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé≠ DOM carregado');
            setTimeout(checkMasks, 500);
        });
        
        // Verifica quando modais s√£o abertos
        document.addEventListener('shown.bs.modal', function() {
            console.log('üö™ Modal aberto, verificando m√°scaras...');
            setTimeout(checkMasks, 100);
        });
    </script>
    
    <!-- Carrega o arquivo de m√°scaras -->
    <script src="js/masks.js"></script>
</body>
</html> 