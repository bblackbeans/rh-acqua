{% load static %}

<nav
  id="sidebar"
  class="d-flex flex-column flex-shrink-0 position-fixed top-0 start-0 h-100"
  style="
    width: 250px;
    background: linear-gradient(to bottom, #0458b5, #416ed8);
    z-index: 1030;
  "
>
  <div class="p-3 border-bottom border-white border-opacity-25">
    <div class="d-flex align-items-center justify-content-between">
      <img
        src="{% static 'img/logo-acqua.png' %}"
        alt="RH Acqua"
        class="img-fluid"
        style="max-height: 40px"
      />
      <button
        type="button"
        id="sidebarCollapseBtn"
        class="btn btn-link text-white p-0"
      >
        <i class="bi bi-arrow-left-circle"></i>
      </button>
    </div>
  </div>

  <ul class="list-unstyled flex-grow-1 p-0 m-0">
    <li class="mb-1">
      <a
        href="{% url 'core:home' %}"
        class="d-flex align-items-center px-3 py-2 text-white text-decoration-none {% if request.resolver_match.url_name == 'home' %}bg-white bg-opacity-25 border-start border-white border-3{% endif %}"
      >
        <i class="bi bi-speedometer2 me-3"></i> Dashboard
      </a>
    </li>
    <li class="mb-1">
      <a
        href="{% url 'vacancies:vagas_disponiveis' %}"
        class="d-flex align-items-center px-3 py-2 text-white text-decoration-none {% if request.resolver_match.url_name == 'vagas_disponiveis' %}bg-white bg-opacity-25 border-start border-white border-3{% endif %}"
      >
        <i class="bi bi-search me-3"></i> Vagas Disponíveis
      </a>
    </li>
    <li class="mb-1">
      <a
        href="{% url 'applications:minhas_candidaturas' %}"
        class="d-flex align-items-center px-3 py-2 text-white text-decoration-none {% if request.resolver_match.url_name == 'minhas_candidaturas' %}bg-white bg-opacity-25 border-start border-white border-3{% endif %}"
      >
        <i class="bi bi-file-earmark-text me-3"></i> Minhas Candidaturas
      </a>
    </li>
    <li class="mb-1">
      <a
        href="{% url 'users:meu_perfil' %}"
        class="d-flex align-items-center px-3 py-2 text-white text-decoration-none {% if request.resolver_match.url_name == 'meu_perfil' %}bg-white bg-opacity-25 border-start border-white border-3{% endif %}"
      >
        <i class="bi bi-person-circle me-3"></i> Meu Perfil
      </a>
    </li>
    <li class="mb-1">
      <a
        href="{% url 'users:meu_curriculo' %}"
        class="d-flex align-items-center px-3 py-2 text-white text-decoration-none {% if request.resolver_match.url_name == 'meu_curriculo' %}bg-white bg-opacity-25 border-start border-white border-3{% endif %}"
      >
        <i class="bi bi-file-earmark-person me-3"></i> Meu Currículo
      </a>
    </li>
  </ul>

  <div class="p-3 border-top border-white border-opacity-25">
    <div class="d-flex align-items-center mb-3">
      <img
        src="{% static 'img/avatar-candidate.png' %}"
        alt="User"
        class="rounded-circle me-3"
        width="40"
        height="40"
      />
      <div>
        <div class="text-white fw-bold small">
          {{ user.get_full_name|default:"Candidate User" }}
        </div>
        <div class="text-white opacity-75 small">Candidato</div>
      </div>
    </div>
    <div>
      <a href="{% url 'logout' %}" class="btn btn-outline-light btn-sm w-100">
        <i class="bi bi-box-arrow-right me-2"></i> Sair
      </a>
    </div>
  </div>
</nav>

